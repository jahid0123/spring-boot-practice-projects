<div class="container mt-4">
  <h2>Your Cart</h2>
<!--  [(ngModel)]="userId"/ customerName
  <div class="mb-3">
    <label for="customerName" class="form-label"> Customer Name:</label>
    <input type="text" id="customerName" [(ngModel)]="order.customerName" name="customerName" required class="form-control"
      placeholder="Enter Your name" />
  </div>-->
  <div *ngIf="cartItems.length === 0">
    <p>Your cart is empty.</p>
  </div>

  <div *ngIf="cartItems.length > 0">
    <table class="table table-bordered">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Unit Price</th>
           <th>Quantity</th>
          <th>Subtotal</th>
          <th>Remove</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems; let i = index">
          <td>{{ item.bookName }}</td>
          <td>BDT {{ item.bookPrice }}</td>
          <td>
    <button (click)="decreaseQuantity(item.id)">âˆ’</button>
    {{item.quantity || 1}}
    <button (click)="increaseQuantity(item.id)">+</button>
  </td>
  <td>BDT {{item.bookPrice * (item.quantity || 1)}}</td>
          <!-- <td>{{ item.quantity }}</td> -->
          <td><button class="btn btn-danger btn-sm" (click)="removeFromCart(i)">Remove</button></td>
        </tr>
      </tbody>
    </table>

    <div class="text-end">
      <h5>Total: BDT {{ totalPrice }}</h5>
      <button class="btn btn-success" (click)="placeOrder()">Place Order</button>
    </div>
  </div>
</div>
<!-- <div class="cart-container">
  <h2>Your Cart</h2>

  
  <div class="mb-3">
    <label for="customerName" class="form-label">Customer Name:</label>
    <input
      type="text"
      id="customerName"
      [(ngModel)]="customerName"
      name="customerName"
      required
      class="form-control"
      placeholder="Enter your name"
    />
  </div>

 
  <table *ngIf="carts.length > 0" class="cart-table table table-striped">
    <thead>
      <tr>
        <th>#</th>
        <th>Book</th>
        <th>Author</th>
        <th>Quantity</th>
        <th>Price (each)</th>
        <th>Subtotal</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of carts; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ item.book.title }}</td>
        <td>{{ item.book.author.name }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.priceAt }} BDT</td>
        <td>{{ item.quantity * item.priceAt }} BDT</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="removeFromCart(item.cartItemID)">
            Remove
          </button>
        </td>
      </tr>
    </tbody>
  </table>


  <div *ngIf="totalPrice > 0" class="mt-3">
    <h4>Total Price: {{ totalPrice }} BDT</h4>
  </div>


  <div *ngIf="carts.length === 0" class="alert alert-info">
    Your cart is empty. Start shopping!
  </div>


  <div *ngIf="carts.length > 0" class="mt-4">
    <button (click)="checkout()" class="btn btn-success">
      Proceed to Checkout
    </button>
  </div>
</div> -->