<!-- Main container for the registration form, centered on the page -->
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg p-4 rounded-3">
        <div class="card-header bg-primary text-white text-center rounded-top">
          <h2 class="mb-0">Buyer Registration</h2>
        </div>
        <div class="card-body">
          <!-- The Angular form. #registrationForm="ngForm" creates a local template variable for the form instance. -->
          <!-- (ngSubmit)="onSubmit()" calls the component's onSubmit method when the form is submitted. -->
          <form #registrationForm="ngForm" (ngSubmit)="onSubmit()">

            <!-- Name Field -->
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <!-- ngModel binds the input value to userData.name -->
              <!-- #name="ngModel" creates a local template variable for the input's NgModel directive. -->
              <!-- required makes the field mandatory. -->
              <input
                type="text"
                class="form-control"
                id="name"
                name="name"
                [(ngModel)]="userData.name"
                #name="ngModel"
                required
                minlength="3"
                maxlength="50"
              />
              <!-- Display error message if name is required and touched/dirty -->
              <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger mt-1">
                <div *ngIf="name.errors?.['required']">Name is required.</div>
                <div *ngIf="name.errors?.['minlength']">Name must be at least 3 characters long.</div>
              </div>
            </div>

            <!-- Email Field -->
            <div class="mb-3">
              <label for="email" class="form-label">Email address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                [(ngModel)]="userData.email"
                #email="ngModel"
                required
                email 
              />
              <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger mt-1">
                <div *ngIf="email.errors?.['required']">Email is required.</div>
                <div *ngIf="email.errors?.['email']">Enter a valid email address.</div>
              </div>
            </div>

            <!-- Password Field -->
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                [(ngModel)]="userData.password"
                #password="ngModel"
                required
                minlength="6"
              />
              <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-danger mt-1">
                <div *ngIf="password.errors?.['required']">Password is required.</div>
                <div *ngIf="password.errors?.['minlength']">Password must be at least 6 characters long.</div>
              </div>
            </div>

            <!-- Phone Field -->
            <div class="mb-3">
              <label for="phone" class="form-label">Phone</label>
              <input
                type="tel" 
                class="form-control"
                id="phone"
                name="phone"
                [(ngModel)]="userData.phone"
                #phone="ngModel"
                required
                pattern="^[0-9]{10}$" 
              />
              <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="text-danger mt-1">
                <div *ngIf="phone.errors?.['required']">Phone number is required.</div>
                <div *ngIf="phone.errors?.['pattern']">Phone number must be 10 digits.</div>
              </div>
            </div>

            <!-- Submit Button -->
            <!-- The button is disabled if the form is invalid -->
            <div class="d-grid gap-2 mt-4">
              <button type="submit" class="btn btn-primary btn-lg" [disabled]="registrationForm.invalid">
                Register as Buyer
              </button>
            </div>
          </form>

          <!-- Display submitted data for demonstration purposes -->
          <div *ngIf="submitted" class="mt-4 p-3 bg-light border rounded">
            <h5>Form Submitted Successfully!</h5>
            <p><strong>Name:</strong> {{ submittedData.name }}</p>
            <p><strong>Email:</strong> {{ submittedData.email }}</p>
            <!-- Do NOT display password in a real app -->
            <p><strong>Phone:</strong> {{ submittedData.phone }}</p>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add the following link tags to include Bootstrap 5 CSS in your project's index.html or styles.scss -->
<!-- Example in index.html (if not already included): -->
<!--
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
-->
